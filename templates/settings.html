<!--DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Settings - Drainage Monitoring</title>
    <style>
        /* Sidebar menu styling */
    #sidebarMenu {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        width: 220px;
        background-color: #004d40;
        padding-top: 60px;
        z-index: 999;
        transition: transform 0.3s ease;
        transform: translateX(-100%);
    }

    #sidebarMenu a {
        display: block;
        padding: 12px 20px;
        color: white;
        text-decoration: none;
        transition: background-color 0.2s;
    }

    #sidebarMenu a:hover {
        background-color: #00695c;
    }

    /* Top bar styling */
    .topbar {
        background: #007b5e;
        padding: 12px 20px;
        color: white;
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: sticky;
        top: 0;
        width: 100%;
        z-index: 1000;
    }
.container {
    margin-top: 80px;  /* ‚¨ÜÔ∏è Pushes down the content below fixed topbar */
}
    .topbar h2 {
        flex-grow: 1;
        text-align: center;
        margin: 0;
        font-size: 22px;
    }

    .hamburger {
        font-size: 26px;
        cursor: pointer;
    }
        body {
            font-family: Arial, sans-serif;
            background: #f4f4f4;
            padding: 0;
            margin:0;
        }
        .container {
            background: #ffffff;
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            margin: auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h2 {
            text-align: center;
            color: #0072ff;
        }
        form label {
            display: block;
            margin: 12px 0 6px;
            font-weight: bold;
        }
        form input[type="number"],
        form input[type="email"],
        form select {
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }
        form button {
            margin-top: 20px;
            width: 100%;
            background: #0072ff;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
        }
        form button:hover {
            background: #005dc9;
        }
    </style>
</head>
<body>



<div class="topbar">
    <div class="hamburger" onclick="toggleSidebar()">‚ò∞</div>
    <h2> Smart Drainage Monitoring System</h2>
</div>


<div id="sidebarMenu">
    <a href="/dashboard">üìä Dashboard</a>
    <a href="/history">üìÅ History</a>
    <a href="/settings">‚öôÔ∏è Settings</a>
    <a href="/analytics">üìà Analytics</a>
    <a href="/help-center">‚ùì Help Center</a>

    <a href="/logout">üö™ Logout</a>
</div>



<div class="container">
    <h2>System Settings</h2>
    <form method="POST">
        <label for=>Alert Email</label>
        <input type="email" name="email" value="{{ settings.email }}" required>

        <label for="f">Alert Frequency (mins)</label>
        <input type="number" name="frequency" value="{{ settings.frequency }}" required>

        <label>Sensor Thresholds</label>
        <input type="number" step="0.01" name="water_level" placeholder="Water Level" value="{{ settings.water_level }}">
        <input type="number" step="0.01" name="flow_rate" placeholder="Flow Rate" value="{{ settings.flow_rate }}">
        <input type="number" step="0.01" name="pressure" placeholder="Pressure" value="{{ settings.pressure }}">
        <input type="number" step="0.01" name="vibration" placeholder="Vibration" value="{{ settings.vibration }}">
        <input type="number" step="0.01" name="gas_concentration" placeholder="Gas Concentration" value="{{ settings.gas_concentration }}">
        <input type="number" step="0.01" name="proximity" placeholder="Proximity" value="{{ settings.proximity }}">

        <label for="aler">Enable Alerts</label>
        <select name="alerts">
            <option value="on" {% if settings.alerts == 'on' %}selected{% endif %}>On</option>
            <option value="off" {% if settings.alerts == 'off' %}selected{% endif %}>Off</option>
        </select>

        <button type="submit">Save Settings</button>
    </form>
</div>
<script>
    function toggleSidebar() {
        const menu = document.getElementById("sidebarMenu");
        if (menu.style.transform === "translateX(0%)") {
            menu.style.transform = "translateX(-100%)";
        } else {
            menu.style.transform = "translateX(0%)";
        }
    }
</script>
</body>
</html-->
<!--DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Settings - Smart Drainage System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .topbar {
            background: #007b5e;
            padding: 14px 20px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .topbar h2 {
            margin: 0;
            font-size: 22px;
            flex-grow: 1;
            text-align: center;
        }

        .hamburger {
            font-size: 26px;
            cursor: pointer;
        }

        #sidebarMenu {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 220px;
            background-color: #004d40;
            padding-top: 60px;
            z-index: 999;
            transition: transform 0.3s ease;
            transform: translateX(-100%);
        }

        #sidebarMenu a {
            display: block;
            padding: 12px 20px;
            color: white;
            text-decoration: none;
        }

        #sidebarMenu a:hover {
            background-color: #00695c;
        }

        .container {
            margin-top: 100px;
            padding: 30px;
            background: #fff;
            border-radius: 10px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        h2 {
            text-align: center;

        }

        form label {
            display: block;
            margin: 12px 0 6px;
            font-weight: bold;
        }

        form input[type="number"],
        form input[type="email"],
        form select {
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        .error-message {
            color: red;
            font-size: 13px;
        }

        form button {
            margin-top: 20px;
            width: 100%;
            background: #0072ff;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
        }

        form button:hover {
            background: #005dc9;
        }
    </style>
</head>
<body>

<div class="topbar">
    <div class="hamburger" onclick="toggleSidebar()">‚ò∞</div>
    <h2>Smart Drainage Monitoring System</h2>
</div>

<div id="sidebarMenu">
    <a href="/dashboard">üìä Dashboard</a>
    <a href="/history">üìÅ History</a>
    <a href="/settings">‚öôÔ∏è Settings</a>
    <a href="/analytics">üìà Analytics</a>
    <a href="/help-center">‚ùì Help Center</a>
    <a href="/logout">üö™ Logout</a>
</div>


<div class="container">
    <h2>System Settings</h2>
    <form method="POST" onsubmit="return validateForm()">
        <label for="email">Alert Email <span class="error-message" id="emailError"></span></label>
        <input type="email" name="email" id="email" value="{{ settings.email }}" required>

        <label for="frequency">Alert Frequency (mins) <span class="error-message" id="freqError"></span></label>
        <input type="number" name="frequency" id="frequency" value="{{ settings.frequency }}" required min="1">

        <label>Sensor Thresholds</label>
        <input type="number" step="0.01" name="water_level" placeholder="Water Level" value="{{ settings.water_level }}">
        <input type="number" step="0.01" name="flow_rate" placeholder="Flow Rate" value="{{ settings.flow_rate }}">
        <input type="number" step="0.01" name="pressure" placeholder="Pressure" value="{{ settings.pressure }}">
        <input type="number" step="0.01" name="vibration" placeholder="Vibration" value="{{ settings.vibration }}">
        <input type="number" step="0.01" name="gas_concentration" placeholder="Gas Concentration" value="{{ settings.gas_concentration }}">
        <input type="number" step="0.01" name="proximity" placeholder="Proximity" value="{{ settings.proximity }}">

        <label for="aler">Enable Alerts</label>
        <select name="alerts">
            <option value="on" {% if settings.alerts == 'on' %}selected{% endif %}>On</option>
            <option value="off" {% if settings.alerts == 'off' %}selected{% endif %}>Off</option>
        </select>

        <button type="submit">Save Settings</button>
    </form>
</div>

<script>
    function toggleSidebar() {
        const menu = document.getElementById("sidebarMenu");
        menu.style.transform = menu.style.transform === "translateX(0%)"
            ? "translateX(-100%)"
            : "translateX(0%)";
    }

    function validateForm() {
        const email = document.getElementById("email").value;
        const freq = document.getElementById("frequency").value;
        let valid = true;

        if (!email.includes("@")) {
            document.getElementById("emailError").innerText = " Invalid email format";
            valid = false;
        } else {
            document.getElementById("emailError").innerText = "";
        }

        if (freq <= 0) {
            document.getElementById("freqError").innerText = " Must be greater than 0";
            valid = false;
        } else {
            document.getElementById("freqError").innerText = "";
        }

        return valid;
    }
</script>

</body>
</html-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Settings - Smart Drainage System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .topbar {
  background: #007b5e;
  padding: 14px 20px;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center; /* Center the title */
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
  text-align: center;
}

.hamburger {
  position: absolute;
  left: 20px;
  font-size: 26px;
  cursor: pointer;
  color: white;
}

.topbar h2 {
  margin: 0;
  font-size: 22px;
}

    #sidebarMenu {
      position: fixed;
      top: 0;
      left: 0;
      height: 100%;
      width: 220px;
      background-color: #004d40;
      padding-top: 60px;
      z-index: 999;
      transition: transform 0.3s ease;
      transform: translateX(-100%);
    }

    #sidebarMenu a {
      display: block;
      padding: 12px 20px;
      color: white;
      text-decoration: none;
    }

    #sidebarMenu a:hover {
      background-color: #00695c;
    }

    .container {
      margin-top: 100px;
      padding: 30px;
      background: #fff;
      border-radius: 10px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      color: #007b5e;
    }

    form label {
      display: block;
      margin: 12px 0 6px;
      font-weight: bold;
    }

    form input[type="number"],
    form input[type="email"],
    form select {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .error-message {
      color: red;
      font-size: 13px;
    }

    form button {
      margin-top: 15px;
      width: 100%;
      background: #0072ff;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
    }

    form button:hover {
      background: #005dc9;
    }

    #flashMessage {
  display: none;
  position: fixed;
  top: 60px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 500px;
  padding: 15px;
  background-color: #d4edda;
  color: #155724;
  border: 2px solid #28a745;
  border-radius: 8px;
  text-align: center;
  z-index: 1100;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  animation: flash 0.5s ease-in-out alternate 3;
}

@keyframes flash {
  from { background-color: #d4edda; }
  to { background-color: #a1e2b0; }
}

  </style>
</head>
<body>

<div class="topbar">
  <div class="hamburger" onclick="toggleSidebar()">‚ò∞</div>
  <h2>Smart Drainage Monitoring System</h2>
</div>

<div id="sidebarMenu">
  <a href="/dashboard">üìä Dashboard</a>
  <a href="/history">üìÅ History</a>
  <a href="/settings">‚öôÔ∏è Settings</a>
  <a href="/analytics">üìà Analytics</a>
  <a href="/help-center">‚ùì Help Center</a>
  <a href="/logout">üö™ Logout</a>
</div>

<div id="flashMessage">‚úÖ Settings submitted successfully!</div>

<div class="container">
  <h2>System Settings</h2>
  <form onsubmit="return validateForm()">
    <label for="email">Alert Email <span class="error-message" id="emailError"></span></label>
    <input type="email" id="email" placeholder="your@example.com" required>

    <label for="frequency">Alert Frequency (mins) <span class="error-message" id="freqError"></span></label>
    <input type="number" id="frequency" placeholder="e.g., 5" min="1" required>

    <label>Sensor Thresholds</label>
    <input type="number" step="0.01" id="water_level" placeholder="Water Level">
    <input type="number" step="0.01" id="flow_rate" placeholder="Flow Rate">
    <input type="number" step="0.01" id="pressure" placeholder="Pressure">
    <input type="number" step="0.01" id="vibration" placeholder="Vibration">
    <input type="number" step="0.01" id="gas_concentration" placeholder="Gas Concentration">
    <input type="number" step="0.01" id="proximity" placeholder="Proximity">

    <label for="alerts">Enable Alerts</label>
    <select id="alerts">
      <option value="on">On</option>
      <option value="off">Off</option>
    </select>

    <button type="submit">Save Settings</button>
    <button type="button" onclick="resetToDefault()" style="background:#888; margin-top:10px;">Reset to Default</button>
  </form>
</div>

<script>
  function toggleSidebar() {
    const menu = document.getElementById("sidebarMenu");
    menu.style.transform = menu.style.transform === "translateX(0%)"
      ? "translateX(-100%)"
      : "translateX(0%)";
  }

  function validateForm() {
    const email = document.getElementById("email").value;
    const freq = document.getElementById("frequency").value;
    let valid = true;

    if (!email.includes("@")) {
      document.getElementById("emailError").innerText = " Invalid email format";
      valid = false;
    } else {
      document.getElementById("emailError").innerText = "";
    }

    if (freq <= 0) {
      document.getElementById("freqError").innerText = " Must be greater than 0";
      valid = false;
    } else {
      document.getElementById("freqError").innerText = "";
    }

    if (valid) {
      document.getElementById("flashMessage").style.display = "block";
      window.scrollTo({ top: 0, behavior: 'smooth' });
      setTimeout(() => {
        document.getElementById("flashMessage").style.display = "none";
      }, 3000);
    }

    return false; // prevent actual form submission
  }

  function resetToDefault() {
    document.getElementById("email").value = "admin@smartdrainage.com";
    document.getElementById("frequency").value = 5;
    document.getElementById("water_level").value = 80;
    document.getElementById("flow_rate").value = 40;
    document.getElementById("pressure").value = 100;
    document.getElementById("vibration").value = 5;
    document.getElementById("gas_concentration").value = 50;
    document.getElementById("proximity").value = 10;
    document.getElementById("alerts").value = "on";
  }
</script>

</body>
</html>

